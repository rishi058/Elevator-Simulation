Current Floor : 0
Press Sequence : 3U, 3D, 5D
and at 3U -> internal-stop 7 is added. 
Generally lift should stop at 5, when it is going downwards.
But based on SCAN algo lift stops at 5 when going upwards. 

----------------------------------------------------------------------

What you are observing is a known limitation of a naïve SCAN (Elevator) algorithm when it is applied without request classification and dynamic reordering.

Why this happens (root cause)

In classic SCAN:
The elevator continues in its current direction
It services all requests in that direction, regardless of when they arrive
Newly added requests are merged blindly into the active scan list

Your scenario (step-by-step)
Current floor: 0
Requests: 3U, 3D, 5D
Elevator starts UP
At floor 3U, an internal stop 7 is added
Active UP scan now becomes: 3 → 7

Because SCAN does not re-evaluate direction-specific intent, floor 5D is incorrectly serviced while moving up
This violates real elevator semantics, even though it is SCAN-correct.

Correct principle used in real elevators
Real elevators use LOOK + Directional Intent Filtering, not pure SCAN.
A request must only be serviced if its intent matches the current direction.

--------------------------------------------------------------------------

LOOK algorithm implemented:

Current Issues: 

2. The "Full Car" Bypass (Capacity Constraint)
The Scenario: The elevator has 10 people inside (maximum capacity). It is going UP from 1 to 10. 
There is a hall call at floor 5 UP.Current Failure: Your scheduler will identify floor 5 as a valid stop and stop there.
The doors will open, but nobody can get in. This wastes time and energy.

Real World Logic: Elevators have a "Load Weighing" input. If load > threshold, the scheduler ignores Hall Calls (external) but still services Car Calls (internal).

3. Starvation (The "Penthouse" Problem)
The Scenario: The elevator is busy servicing floors 1–5 continuously (high traffic). Someone at floor 10 presses "DOWN".
Current Failure: Your heaps prioritize proximity. If new requests keep appearing at floors 2, 3, and 4, the elevator may bounce between them indefinitely,
never reaching floor 10.

Real World Logic: Requests usually have a "timestamp" or "age". If a request ages beyond a threshold (e.g., 60 seconds), it enters "Emergency Priority" mode,
overriding the proximity logic to force the elevator to serve that floor.


--------------------------------------------------------------------------

